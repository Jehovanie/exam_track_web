<button
  [swal]="organizeSwal"
  (click)="open()"
  class="rounded-md bg-orange-600 px-4 py-2 text-sm font-medium text-white hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 cursor-pointer"
>
  Organiser un examen
</button>

<swal
  #organizeSwal
  [showConfirmButton]="false"
  [showCancelButton]="false"
  [focusConfirm]="false"
  (confirm)="onConfirm()"
>
  <div *swalPortal="swalTargets.content">
    <header class="bg-orange-100 py-4 shadow rounded-md mb-4">
      <div class="mx-auto px-4 sm:px-6">
        <h1 class="text-xl font-bold text-orange-900">Nouvel Examen</h1>
      </div>
    </header>
    <!-- Form content -->
    <form class="space-y-4 text-left">
      <label class="block mb-4">
        <label
          for="sutudentName"
          class="mb-1 block text-sm font-medium text-gray-700"
          >Etudiant</label
        >
        <input
          type="text"
          id="sutudentName"
          name="sutudentName"
          [disabled]="ex_s.loadingAction()"
          [(ngModel)]="form.sutudentName"
          required
          class="w-full rounded-md border border-gray-300 px-3 py-1 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </label>

      <label class="block mb-4">
        <label
          for="examLocation"
          class="mb-1 block text-sm font-medium text-gray-700"
          >Lieu de l’examen</label
        >
        <input
          type="text"
          id="examLocation"
          [disabled]="ex_s.loadingAction()"
          [(ngModel)]="form.examLocation"
          name="examLocation"
          class="w-full rounded-md border border-gray-300 px-3 py-1 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </label>

      <div class="grid grid-cols-2 gap-2 mb-2">
        <label class="mb-2">
          <label
            for="examDate"
            class="mb-1 block text-sm font-medium text-gray-700"
            >Date d'examen</label
          >
          <input
            type="date"
            id="examDate"
            [disabled]="ex_s.loadingAction()"
            [(ngModel)]="form.examDate"
            name="examDate"
            required
            class="w-full rounded-md border cursor-pointer border-gray-300 px-3 py-1 text-gray-900 text-sm placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500"
          />
        </label>

        <label class="mb-2">
          <label
            for="examTime"
            class="mb-1 block text-sm font-medium text-gray-700"
            >Heure d'examen</label
          >
          <input
            type="time"
            id="examTime"
            [disabled]="ex_s.loadingAction()"
            [(ngModel)]="form.examTime"
            name="examTime"
            required
            class="w-full rounded-md border cursor-pointer border-gray-300 px-3 py-1 text-gray-900 text-sm placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500"
          />
        </label>
      </div>

      <div class="w-full">
        <label
          for="examStatus"
          class="block text-sm font-medium text-gray-700 mb-2"
        >
          Satus
        </label>
        <select
          id="examStatus"
          [disabled]="ex_s.loadingAction()"
          [(ngModel)]="form.examStatus"
          name="examStatus"
          class="block w-full rounded-md cursor-pointer border border-gray-300 py-2 px-3 text-gray-900 text-sm focus:border-indigo-500 focus:ring-indigo-500"
        >
          <option value="">-- Select --</option>
          <option value="confirm">Confirmé</option>
          <option value="in_organised">A organiser</option>
          <option value="in_search_place">En recherche de place</option>
          <option value="canceled">Annulé</option>
        </select>
      </div>

      <div class="w-full flex justify-between items-center gap-2">
        <!-- Submit Button -->
        <!-- [disabled]="ex_s.loadingAction()" || !form.password" -->
        <button
          (click)="onConfirm()"
          [disabled]="ex_s.loadingAction()"
          class="w-1/2 flex items-center justify-center rounded-md bg-orange-600 px-4 py-2 text-sm font-medium text-white hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 cursor-pointer"
        >
          <lucide-angular
            *ngIf="ex_s.loadingAction()"
            [img]="RefreshCcw"
            class="mr-3 size-5 animate-spin text-white"
          ></lucide-angular>
          Creér
        </button>
        <button
          (click)="onDismiss()"
          [disabled]="ex_s.loadingAction()"
          class="w-1/2 rounded-md bg-gray-400 px-4 py-2 text-sm font-medium text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 cursor-pointer"
        >
          Annulé
        </button>
      </div>
    </form>
  </div>
  <!-- Confirm button slot -->
</swal>
